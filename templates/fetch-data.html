<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="Vestergaard Utility">
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link rel="shortcut icon" href="/static/img/icons/icon-48x48.png" />
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
		integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
	<link rel="canonical" href="https://demo-basic.adminkit.io/" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<title>Data Utility</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
	<link href="/static/css/app.css" rel="stylesheet">
	<link href="/static/css/style.css" rel="stylesheet">
</head>

<body>
	<div class="wrapper">

		<div class="main">
			<nav class="navbar navbar-expand navbar-light navbar-bg">
				<h3><b>{{projectName.upper()}} UTILITY</b></h3>
				<div class="navbar-collapse collapse">
					<ul class="navbar-nav navbar-align">
						<li class="nav-item dropdown">
							<a class="nav-icon dropdown-toggle" href="/dashboard">
								<div class="position-relative">
									<i class="align-middle" data-feather="home"></i>
								</div>
							</a>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-icon dropdown-toggle" href="/logout">
								<div class="position-relative">
									<i class="align-middle" data-feather="power"></i>
								</div>
							</a>
						</li>
					</ul>
				</div>
			</nav>


			<main class="content">
				<div class="container-fluid p-0">
					<!-- <h1 class="h3 mb-3"><strong>Fetch Data Utility</strong> Vestergaard</h1> -->
					<nav aria-label="breadcrumb">
						<ol class="breadcrumb">
							<li class="breadcrumb-item active" aria-current="page"><strong>Fetch Data</strong></li>
						</ol>
					</nav>

					<form name="uploadForm" action="/fetch-data/" method="POST">
						<div class="row">
							<div class="col-xl-12 col-xxl-12 d-flex">
								<div class="w-100">
									<div class="row">
										<div class="col-sm-4">
											<div class="card">
												<div class="card-body">
													<div class="row">
														<div class="col mt-0">
															<h5 class="card-title">Parameters</h5>
														</div>
														<div class="col-auto">
															<div class="stat text-primary">
																<i class="align-middle" data-feather="cloud"></i>
															</div>
														</div>
														<form name="uploadForm" action="/index" method="POST">
															<div class="mb-2 col-sm-8">
																<label class="form-label">API</label>
																<input class="form-control form-control" type="text"
																	name="apiurl"
																	placeholder="https://dureapi.intervas.com/data"
																	required />
															</div>
															<div class="mb-2 col-sm-4">
																<label class="form-label">Method</label>
																<select class="form-select" name="method" required>
																	<option selected value="POST">POST</option>
																	<option value="GET">GET</option>
																</select>
															</div>
															<div class="mb-2 col-sm-6">
																<label class="form-label">Start Date</label>
																<input class="form-control form-control" type="date"
																	name="startDate" required />
															</div>
															<div class="mb-2 col-sm-6">
																<label class="form-label">End Date</label>
																<input class="form-control form-control" type="date"
																	name="endDate" required />
															</div>
															<div class="mb-0 col-sm-8">
																<label class="form-label">Survey Name</label>
																<input class="form-control form-control" type="text"
																	name="surveyName" placeholder="Mumbai" required />
															</div>
															<div class="mb-0 col-sm-4">
																<label class="form-label">Survey Number</label>
																<input class="form-control form-control" type="number"
																	name="surveyNumber" required />
																<small>Last Survey: <b>{{surveyNumber}}</b>
																	<button type="button" class="info-button"
																		data-bs-toggle="modal"
																		data-bs-target="#centeredModalPrimary">
																		<i class="fa fa-info-circle"></i></small>
																</button>
																<div class="modal fade show" id="centeredModalPrimary"
																	tabindex="-1" aria-modal="true" role="dialog"
																	aria-hidden="true">
																	<div class="modal-lg modal-dialog modal-dialog-centered"
																		role="document">
																		<div class="modal-content">
																			<div class="modal-header">
																				<h5 class="modal-title">Master Data
																				</h5>
																				<button type="button" class="btn-close"
																					data-bs-dismiss="modal"
																					aria-label="Close"></button>
																			</div>
																			<div class="modal-body m-3">
																				<table class="table table-hover my-0">
																					<thead>
																						<tr>
																							<th>Survey ID</th>
																							<th>Survey Name</th>
																							<th>Survey Start Date</th>
																							<th>Survey End Date</th>
																						</tr>
																					</thead>
																					<tbody>
																						{% for surveyID, surveyName,
																						surveyStartDate, surveyEndDate
																						in surveyIDs|zip(surveyNames,
																						surveyStartDates,
																						surveyEndDates) %}
																						<tr>
																							<td>{{surveyID}}</td>
																							<td>{{surveyName}}</td>
																							<td>{{surveyStartDate}}</td>
																							<td>{{surveyEndDate}}</td>
																						</tr>
																						{% endfor %}
																					</tbody>
																				</table>
																			</div>
																			<div class="modal-footer">
																				<button type="button"
																					class="btn btn-secondary"
																					data-bs-dismiss="modal">Close</button>
																			</div>
																		</div>
																	</div>
																</div>

															</div>
															<div class="mb-2">
																<label class="form-label">Data Source</label>
																<select class="form-select" name="dataSource" required>
																	<option selected value="">Select Data Source
																	</option>
																	{% for source in dataSource %}
																	<option>{{ source }}</option>
																	{% endfor %}
																</select>
															</div>
															<div class="mb-2">
																<label class="form-label">Save File to</label>
																<select class="form-select" name="fileType" required>
																	<option selected value="CSV">CSV</option>
																	<option value="JSON">JSON</option>
																</select>
															</div>
															<div class="text-center mt-0 d-grid">
																<button type="submit" id="fetch-button"
																	class="btn btn btn-primary">Fetch
																	Data</button>
															</div>
														</form>
													</div>
												</div>
											</div>
										</div>
										<!-- <div class="col-sm-4">
											<div class="card">
												<div class="card-body">
													<div class="row">
														<div class="col mt-0">
															<h5 class="card-title">Submit Data</h5>
														</div>
														<div class="col-auto">
															<div class="stat text-primary">
																<i class="align-middle" data-feather="send"></i>
															</div>
														</div>
														<div class="mb-2">
															<label class="form-label">Save File to</label>
															<select class="form-select" name="fileType" required>
																<option selected value="CSV">CSV</option>
																<option value="JSON">JSON</option>
															</select>
														</div>
														<div class="text-center mt-3 d-grid">
															<button type="submit" id="fetch-button"
																class="btn btn btn-primary">Fetch
																Data</button>
														</div>
														<div class="text-center mt-3">
															<h2 class="or-class"><span class="or-line">OR</span></h2>
														</div>
														<form action="/save-data" method="POST"
															enctype="multipart/form-data">
															<div class="mb-3 mt-0">
																<label class="form-label w-100">Manual File
																	Upload</label>
																<input type="file" name="uploadCSVfile">
															</div>
															<div class="text-center mt-3 d-grid">
																<button type="submit" class="btn btn btn-primary"
																	data-bs-toggle="offcanvas"
																	data-bs-target="#offcanvasRight"
																	aria-controls="offcanvasLeft">Upload
																	Data</button>
															</div>
														</form>
													</div>
												</div>
											</div>
										</div> -->
										<div class="col-sm-4">
											<div class="card">
												<div class="card-body">
													<div class="row">
														<div class="col mt-0">
															<h5 class="card-title">Authorization (if required)</h5>
														</div>
														<div class="col-auto">
															<div class="stat text-primary">
																<i class="align-middle" data-feather="key"></i>
															</div>
														</div>
														<div class="mb-2 col-sm-12">
															<label class="form-label">Username</label>
															<input class="form-control form-control" type="text"
																name="username" placeholder="Username" />
														</div>
														<div class="mb-2 col-sm-12">
															<label class="form-label">Password</label>
															<input class="form-control form-control" type="password"
																name="password" placeholder="Password" />
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</form>
					<!-- toast -->
					<div class="toast-container position-absolute p-3 top-0 start-50 translate-middle-x"
						id="toastPlacement" data-original-class="toast-container position-absolute p-3">
						<div class="toast fade">
							<div class="toast-header">
								<svg class="bd-placeholder-img rounded me-2" width="20" height="20"
									xmlns="http://www.w3.org/2000/svg" aria-hidden="true"
									preserveAspectRatio="xMidYMid slice" focusable="false">
									<rect width="100%" height="100%" fill="#007aff"></rect>
								</svg>

								<strong class="me-auto">Utility Response</strong>
							</div>
							<div class="toast-body" id="toast-body">
								Hello, world! This is a toast message.
							</div>
						</div>
					</div>

			</main>

			<footer class="footer">
				<div class="container-fluid">
					<div class="row text-muted">
						<div class="col-12 text-end">
							<p class="mb-0">
								<a class="text-muted" href="https://duretechnologies.com" target="_blank"><strong>Dure
										Technologies Pvt Ltd</strong></a> &copy;
							</p>
						</div>
					</div>
				</div>
			</footer>
		</div>
	</div>

	<script src="/static/js/app.js"></script>
	<script src="/static/js/main.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>
</body>

</html>